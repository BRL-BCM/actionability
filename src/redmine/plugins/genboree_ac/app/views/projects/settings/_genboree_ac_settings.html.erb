<%
  @genboreeAc = GenboreeAc.find_by_project_id(@project)
  #$stderr.puts "Got @genboreeAc for @project '#{@project.inspect}}' ?\n\n#{@genboreeAc.inspect}\n\n"
  @genboreeAc ||= nil
%>
  <h3><%= l(:gbac_label_edit_settings) %></h3>
  <%
    checkBoxCheck = true
    checkBoxValue = '1'
    headerContentFileLoc = ""
    footerContentFileLoc = ""
    gbHost = ""
    gbGroup = ""
    gbKb = ""
    templateSetsColl = ""
    urlMountDir = ""
    releaseKbBaseUrl = ""
    if(@genboreeAc)
      if(@genboreeAc.useRedmineLayout == false)
        checkBoxCheck = false
        checkBoxValue = '0'
      end
      headerContentFileLoc = @genboreeAc.headerIncludeFileLoc
      footerContentFileLoc = @genboreeAc.footerIncludeFileLoc
      gbHost = @genboreeAc.gbHost
      gbGroup = @genboreeAc.gbGroup
      gbActCurationColl = @genboreeAc.actionabilityColl
      gbActRefColl = @genboreeAc.referencesColl
      gbActGenesColl = @genboreeAc.genesColl
      gbKb = @genboreeAc.gbKb
      gbActOrphanetCollRsrcPath = @genboreeAc.gbActOrphanetCollRsrcPath
      gbReleaseKbRsrcPath = @genboreeAc.gbReleaseKbRsrcPath
      templateSetsColl = @genboreeAc.templateSetsColl
      templateSetsColl = "" if(templateSetsColl.nil?)
      urlMountDir = @genboreeAc.urlMountDir
      urlMountDir = "" if(urlMountDir.nil?)
      releaseKbBaseUrl = @genboreeAc.releaseKbBaseUrl
      releaseKbBaseUrl = "" if(releaseKbBaseUrl.nil?)
      releasedMqConf = @genboreeAc.releasedMqConf
      releasedMqConf = '' if(releasedMqConf.nil?)
      isAcReleaseTrack = (@genboreeAc.isAcReleaseTrack or false)
      requireHttpsForApi = ( @genboreeAc.requireHttpsForApi or false )
    end
  %>
  <%= form_tag("../../../genboree_ac/update") do %>
    <table style="padding-top:20px;padding-left:20px;">
      <tr><td><b><%= label_tag "use_redmine_layout", l(:gbac_use_redmine_layout) %></b></td><td>
        <%= check_box "useRedmineLayout", 'aa', { :checked => checkBoxCheck }, checked_value = "1", unchecked_value = "0"   %>
        <!--<%= check_box_tag "useRedmineLayout"  %>-->
      </td></tr>
      <tr><td><b><%= label_tag "gb_host", l(:gbac_gb_host) %></b></td><td>
        <%= text_field_tag "gbHost", gbHost, {:size => 20 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gb_group", l(:gbac_gb_group) %></b></td><td>
        <%= text_field_tag "gbGroup", gbGroup, {:size => 20 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gb_kb", l(:gbac_gb_kb) %></b></td><td>
        <%= text_field_tag "gbKb", gbKb, {:size => 20 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "header_file_path", l(:gbac_header_file_path) %></b></td><td>
        <%= text_field_tag "headerIncludeFileLoc", headerContentFileLoc, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "footer_file_path", l(:gbac_footer_file_path) %></b></td><td>
        <%= text_field_tag "footerIncludeFileLoc", footerContentFileLoc, {:size => 50 } %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_curation_coll", l(:gbac_gb_ac_curation_coll) %></b></td><td>
        <%= text_field_tag "gbActCurationColl", gbActCurationColl, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_references_coll", l(:gbac_gb_ac_references_coll) %></b></td><td>
        <%= text_field_tag "gbActRefColl", gbActRefColl, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_genes_coll", l(:gbac_gb_ac_genes_coll) %></b></td><td>
        <%= text_field_tag "gbActGenesColl", gbActGenesColl, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_orphanet_coll", l(:gbac_gb_ac_orphanet_coll) %></b></td><td>
        <%= text_field_tag "gbActOrphanetCollRsrcPath", gbActOrphanetCollRsrcPath, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_release_kb", l(:gbac_gb_ac_release_kb) %></b></td><td>
        <%= text_field_tag "gbReleaseKbRsrcPath", gbReleaseKbRsrcPath, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_template_sets_coll", l(:gbac_gb_ac_template_sets_coll) %></b></td><td>
        <%= text_field_tag "gbTemplateSetsColl", templateSetsColl, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_url_mount_dir", l(:gbac_gb_ac_url_mount_dir) %></b></td><td>
        <%= text_field_tag "gbUrlMountDir", urlMountDir, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_release_kb_base_url", l(:gbac_gb_ac_release_kb_base_url) %></b></td><td>
        <%= text_field_tag "gbReleaseKbBaseUrl", releaseKbBaseUrl, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "gbac_gb_ac_released_mq_conf", l(:gbac_gb_ac_released_mq_conf) %></b></td><td>
        <%= text_field_tag "gbReleasedMqConf", releasedMqConf, {:size => 50 }    %>
      </td></tr>
      <tr><td><b><%= label_tag "isAcReleaseTrack", l(:gbac_is_ac_release_track) %></b></td><td>
        <%= check_box "isAcReleaseTrack", 'bool', { :checked => isAcReleaseTrack }, checked_value = "1", unchecked_value = "0"   %>
      </td></tr>
      <tr><td><b><%= label_tag "requireHttpsForApi", l(:gbac_require_https_for_api) %></b></td><td>
        <%= check_box "requireHttpsForApi", 'bool', { :checked => requireHttpsForApi }, checked_value = "1", unchecked_value = "0"   %>
      </td></tr>
    </table>
    <dl style="padding-left:20px;">
      <%= hidden_field_tag "project_id", @project.id %>
      <%= hidden_field_tag "project_ident", @project.identifier %>
      <%= submit_tag l(:gbac_button_edit) %>
    </dl>
  <% end %>

